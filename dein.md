原文链接: [vim-china/dein.vim](https://github.com/vim-china/plugins-tutorial/blob/master/dein.md)

## 简介

给大家介绍一个不错的插件管理器，dein.vim，作者是 Shougo。这款插件管理器是 NeoBundle.vim 的升级版，同为 Shougo 所创。相比 vundle.vim，dein.vim 支持以下功能：

- 延迟按需加载
- 多线程异步安装
- 自动 merge 插件
- 支持 yaml 插件配置

## 延迟按需加载

**延迟加载**指的是对于某些特定插件，不需要在 vim 启动时就加载，而是在我初次使用这个插件时自动加载。这一特性大大提升了 Vim 启动速度，和运行效率。在 Vim 插件比较多时效果最为明显。

**按需加载**指的是根据实际需要去加载相应的配置，大家都知道，大多是插件不是仅仅安装了就可以的，需要自己配置一下，而这些配置脚本在这个插件还未载入时毫无用处，因此，可以将这些配置写入另外一个文件，当载入插件时自动去读取对应的配置文件。而且，有些插件，比如 denite ，它的配置需要调用插件自身方法，如果你将这样的配置写入 vimrc，会有很多隐患。当你想临时禁用这个插件注释掉安装插件的那行代码，后续的这个配置就会报错，因为他无法调用插件的方法。

按需加载，可以有效地提高Vim启动和运行时速度。 dein 支持：

1. 根据命令按需加载  
   即：当执行某个命令时，再加载这个插件，在这之前，这个插件是不加载的。比如，我想要安装 ag.vim 这个插件，但是平时我不用这个插件，不想他影响我的 Vim 启动速度。我们可以通过这种方式来加载插件：
    ```vim
    call dein#add('wsdjeg/ag.vim', {'on_cmd' : 'Ag'})
    ```

2. 延迟加载插件配置


3. 自动合并插件

## 多线程异步安装

采用了 job 特性，同时进行多个线程下载插件，大大提升了插件安装速度。有人说 vim-plug 比 dein 快。那是因为 vim-plug 默认采用了 16 线程，而 dein 默认只有8进程，过高的线程数对 github 压力太大。 如果样的线程数，同为 job 调用 git，我不觉得插件本身会对速度有任何影响。

## 自动合并插件

默认情况下，dein 会根据插件相对于 runtimepath 的路径进行插件合并，如何理解这一特性，我们来看下面一个示例：
